!function(){"use strict";function a(a,b){return m.call(b,a.selector)}function b(a,b){var c=b.getAttribute(a.attribute[0]),d=a.attribute[1];return c===d||Array.isArray(d)&&d.indexOf(c)>=0}function c(c,d,e,f){return c.id&&e===c.id||c.tagName&&f===c.tagName||c.attribute&&b(c,d)||c.selector&&a(c,d)}function d(a,b){return!!a[b]||j(b)}function e(a,b,c){if("function"==typeof a[b])a[b](c);else if(j(b))for(var d=0;d<b.length;d++)"function"==typeof a[b[d]]&&a[b[d]](c)}function f(a,b){var f,g,h,i=a.id,j=a.tagName.toLowerCase();for(f=0,g=n.length;g>f;f++)h=n[f],d(h,b)&&c(h,a,i,j)&&e(h,b,a)}function g(a,b,c){for(var d=0;d<a.length;d++)f(a[d],b,c)}var h,i,j=Array.isArray,k=Turbolinks.EVENTS,l=Element.prototype,m=l.matches||l.matchesSelector||l.webkitMatchesSelector||l.oMatchesSelector||l.msMatchesSelector||l.mozMatchesSelector,n=[];document.addEventListener(k.BEFORE_CHANGE,function(){f(document.body,"onBeforeChange")}),document.addEventListener(k.BEFORE_UNLOAD,function(a){g(a.data,"onBeforeUnload")}),document.addEventListener(k.CHANGE,function(a){g(a.data,"onChange")}),document.addEventListener(k.LOAD,function(a){g(a.data,["onLoad","onOpen"])}),document.addEventListener(k.PARTIAL_LOAD,function(a){g(a.data,["onPartialLoad","onOpen"])}),document.addEventListener(k.RESTORE,function(){f(document.body,["onRestore","onOpen"])}),document.addEventListener(k.AFTER_REMOVE,function(a){f(a.data,"onAfterRemove")}),document.addEventListener("DOMContentLoaded",function(){f(document.body,["onChange","onLoad","onOpen"])}),i=window.turbolinksModules,h={add:function(a){if(!(a.id||a.attribute||a.tagName||a.selector))throw new Error("Contextual module has to have either id, tagName, attribute or selector defined!");n.push(a)},remove:function(a){var b=n.indexOf(a);b>=0&&n.splice(b,1)},reset:function(){n.length=0},noConflict:function(){return window.turbolinksModules=i,h}},"undefined"!=typeof define&&define.amd?define(function(){return h}):"undefined"!=typeof module&&module.exports?module.exports=h:window.turbolinksModules=h}();